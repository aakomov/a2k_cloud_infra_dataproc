# Содержимое HDFS

![](/img/dataproc.png)

# Список VM Dataproc

![](/img/VM.png)

# П.5.1 Оценка месячных затрат на Spark-кластер в Data Proc
**Стоимость вычислительных ресурсов**
* Виртуальные машины тарифицируются по часовой ставке.
* Примерная цена запуска кластера Yandex Data Proc — от 18 рублей в час (зависит от класса хоста)
* Для точного расчёта нужно умножить цену часа каждого типа хоста на количество часов в месяце (~720 часов) и количество хостов.

**Стоимость дискового пространства**
* Хранилище тарифицируется по цене дисков Compute Cloud.
* Для s3-c2-m8 и s3-c4-m16 цена дисков зависит от типа диска (SSD/HDD), но в среднем цена за ГБ в месяц около 2.17 ₽ для стандартного Object Storage.
* Для 40 ГБ + 3×128 ГБ = 424 ГБ общая стоимость хранения будет примерно 424×2.17=920.08 ₽ в месяц, если использовать Object Storage.

# П.5.2 Сравнение стоимости HDFS-хранилища и Object Storage
* HDFS использует локальные диски виртуальных машин, стоимость дисков Compute Cloud (SSD/HDD) выше, чем объектное хранилище.
* Object Storage дешевле в хранении (около 2.17 ₽/ГБ в месяц) и не требует постоянной работы виртуальных машин для хранения данных.
* HDFS требует выделения дискового пространства на каждом узле, что увеличивает стоимость за счет дисков и виртуальных машин.
* Object Storage более гибкое и масштабируемое, с меньшими затратами на хранение, но может иметь большую задержку доступа по сравнению с локальным HDFS.

Использование HDFS-хранилища обычно дороже, чем Object Storage, из-за затрат на диски и поддержание виртуальных машин с выделенным дисковым пространством

# П.6 Способы оптимизации затрат на Spark-кластер
* Автоматическое масштабирование кластера — уменьшение количества узлов в периоды низкой нагрузки.
* Использование Object Storage вместо HDFS для хранения данных — снижение затрат на дисковое пространство.
* Оптимизация объема хранилища — уменьшение выделенного дискового пространства до необходимого минимума.
* Использование холодного или ледяного хранилища для редко используемых данных — снижение стоимости хранения до 0.58 ₽/ГБ в месяц

# Высвобождение ресурсов

![](/img/destroy.png)